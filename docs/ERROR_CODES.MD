# Error Codes

There are a number of exceptions thrown within Streetlamp due to improper use.
This document highlights those exceptions and helps you remedy them.
All error codes and corresponding exceptions documented extend the exception `StreetLampRequestException`, which is
typically designed to trigger a failure response to the client.

| Code   | Thrown By         | Exception                                      | HTTP Status | Description                                                                                                                                                                                                        |
|--------|-------------------|------------------------------------------------|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RTB001 | `RouteBuilder`    | `ComposerFileDoesNotExistException`            | 503         | Cannot find the referenced composer file.                                                                                                                                                                          |
| RTB002 | `RouteBuilder`    | `ComposerFileInvalidFormatException`           | 503         | The composer file specified is invalid [JSON](https://www.json.org/json-en.html) or does not have a [PSR-4](https://www.php-fig.org/psr/psr-4/) configuration.                                                     |
| RTB003 | `RouteBuilder`    | `ComposerFileInvalidFormatException`           | 500         | The composer file specified is invalid [JSON](https://www.json.org/json-en.html) or does not have a [PSR-4](https://www.php-fig.org/psr/psr-4/) configuration.                                                     |
| RTB004 | `RouteBuilder`    | `InvalidApplicationDirectoryException`         | 500         | Application path specified is not a directory.                                                                                                                                                                     |
| R001   | `Router`          | `InvalidRouteResponseException`                | 500         | The route method did not return a valid `ResponseBuilder` object.                                                                                                                                                  |
| R002   | `Router`          | `InvalidContentTypeException`                  | 415         | Request did match a route path, but did not match the accepted media type.                                                                                                                                         |
| R003   | `Router`          | `NoValidRouteException`                        | 404         | Request did not match any route defined.                                                                                                                                                                           |
| R004   | `Router`          | `InvalidRouteMethodException`                  | 500         | Cached response was not an instance of `ResponseInterface`.                                                                                                                                                        |
| RM001  | `Route`           | `InvalidParameterAlreadyBoundException`        | 500         | There are multiple inputs bound to the same parameter.                                                                                                                                                             |
| RB001  | `ResponseBuilder` | `InvalidResponseReturnedToClientException`     | 500         | Response to client is not a primitive data type. If response is a [JSON](https://www.json.org/json-en.html) object please ensure the content type is set to `application/json` so it can be automatically encoded. |
| RC001  | `RouteController` | `InvalidAttributeContextException`             | 500         | Attempt to bind a route controller to a method and not a class.                                                                                                                                                    |
| JS001  | `JsonProperty`    | `InvalidParameterTypeException`                | 400         | Data binding has failed due to missing required field.                                                                                                                                                             |
| JD001  | `JsonDataBinding` | `InvalidJsonObjectParameter`                   | 400         | Json Data Mapping object has an invalid parameter.                                                                                                                                                                 |
| BP001  | `BodyParameter`   | `MissingRequireBodyException`                  | 400         | Request is missing the expected body data.                                                                                                                                                                         |
| FP001  | `FileParameter`   | `MissingRequiredFilesException`                | 400         | Request is missing the expected file.                                                                                                                                                                              |
| HP001  | `HeaderParameter` | `MissingRequiredHeaderException`               | 400         | Request is missing the expected header.                                                                                                                                                                            |
| PR001  | `Parameter`       | `InvalidParameterTypeException`                | 400         | Request data for input field is not a string or array.                                                                                                                                                             |
| PR002  | `Parameter`       | `InvalidParameterTypeDefinitionException`      | 500         | No data type defined for parameter in route method definition.                                                                                                                                                     |
| PR003  | `Parameter`       | `InvalidParameterFailedToPassFilterValidation` | 400         | Request input failed to match validator checks.                                                                                                                                                                    |
| PR004  | `Parameter`       | `InvalidParameterTypeDefinitionException`      | 500         | No bindings for specified data type in parameter for route method definition.                                                                                                                                      |
| PP001  | `ParameterPath`   | `MissingRequiredPathException`                 | 400         | Request path is missing the expected variable parameter.                                                                                                                                                           |
| PDP001 | `PostParameter`   | `MissingRequiredPostException`                 | 400         | Request is missing the expected post data.                                                                                                                                                                         |
| QP001  | `QueryParameter`  | `MissingRequireQueryException`                 | 400         | Request is missing the expected query string parameter.                                                                                                                                                            |
| MTD001 | `Method`          | `InvalidAttributeContextException`             | 500         | Method attribute bound to something other than a class method.                                                                                                                                                     |
| ST001  | `Stream`          | `StreamResourceException`                      | 500         | Invalid stream resource. This could be due to a permission issue or the stream being closed.                                                                                                                       |
| ST002  | `Stream`          | `StreamResourceException`                      | 500         | Unable to determine the position of the stream. This is likely because the resource does not support this capability.                                                                                              |
| ST003  | `Stream`          | `StreamResourceException`                      | 500         | Unable to seek in the stream. This is likely because the resource does not support this capability.                                                                                                                |
| ST004  | `Stream`          | `StreamResourceException`                      | 500         | The stream is not writable. This may occur if the stream was opened in read-only mode or the underlying resource does not support writing.                                                                         |
| ST005  | `Stream`          | `StreamResourceException`                      | 500         | Unable to write to the stream. This may be due to a resource error or a write failure.                                                                                                                             |
| ST006  | `Stream`          | `StreamResourceException`                      | 500         | The stream is not readable. This may occur if the stream was opened in write-only mode or the underlying resource does not support reading.                                                                        |
| ST007  | `Stream`          | `StreamResourceException`                      | 500         | Unable to read from the stream. This may be due to a resource error or a read failure.                                                                                                                             |
| ST008  | `Stream`          | `StreamResourceException`                      | 500         | Unable to get the contents of the stream. This may be due to a resource error or the stream being closed.                                                                                                          |
| RI001  | `Uri`             | `UriException`                                 | 400         | Invalid URI provided                                                                                                                                                                                               |







